<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>configng-v2 Modules Menu (Dark Mode)</title>
	<style>
		:root {
			--bg-main: #181b20;
			--bg-card: #23262b;
			--border: #353942;
			--text: #ececf0;
			--text-secondary: #b4b5ba;
			--accent: #5eafff;
			--accent-light: #89d4ff;
			--btn-bg: #282d34;
			--btn-bg-hover: #38404a;
			--btn-border: #393f47;
			--btn-text: #ececf0;
			--card-shadow: 0 2px 10px #0006;
		}

		body {
			font-family: system-ui, sans-serif;
			margin: 0;
			padding: 1.5em 0 2em 0;
			background: var(--bg-main);
			color: var(--text);
		}

		#nav,
		#menu {
			margin: 1em auto;
			max-width: 750px;
		}

		h1 {
			text-align: center;
			color: var(--accent);
			font-weight: 600;
			letter-spacing: 0.05em;
			margin-bottom: 0.2em;
		}

		#nav button {
			background: var(--btn-bg);
			color: var(--btn-text);
			border: 1px solid var(--btn-border);
			border-radius: 5px;
			padding: 0.48em 1.2em;
			margin: 0.3em 0.5em 0.3em 0;
			font-size: 1em;
			cursor: pointer;
			transition: background 0.15s, color 0.15s;
			box-shadow: none;
			outline: none;
		}

		#nav button:hover,
		#nav button:focus {
			background: var(--btn-bg-hover);
			color: var(--accent-light);
		}

		ul,
		ol {
			list-style: none;
			padding: 0;
			margin: 0.5em 0 0 0;
		}

		li {
			margin-bottom: 0.2em;
		}

		li button {
			width: 100%;
			text-align: left;
			padding: 0.7em 1.4em;
			margin: 0.2em 0;
			background: var(--bg-card);
			border: 1px solid var(--border);
			color: var(--text);
			border-radius: 6px;
			box-shadow: none;
			transition: background 0.13s, color 0.13s;
			font-weight: 500;
			font-size: 1.08em;
		}

		li button:hover,
		li button:focus {
			background: var(--accent);
			color: #111;
		}

		.module-card {
			background: var(--bg-card);
			border: 1px solid var(--border);
			border-radius: 8px;
			margin: 1.5em 0;
			padding: 1.2em 1.5em;
			box-shadow: var(--card-shadow);
			transition: box-shadow 0.18s;
		}

		.module-card h2 {
			margin: 0 0 0.1em 0;
			font-size: 1.25em;
			font-weight: 600;
			color: var(--accent-light);
			letter-spacing: 0.03em;
		}

		.module-card .desc {
			color: var(--text-secondary);
			margin-bottom: 0.5em;
			font-size: 1em;
			line-height: 1.5;
		}

		.module-card .options-list {
			margin: 0.2em 0 0 1.2em;
			padding: 0;
			color: var(--accent);
		}

		.module-card .options-list li {
			margin: 0.06em 0;
			font-size: 1em;
			letter-spacing: 0.01em;
		}

		.module-card details {
			margin-top: 0.7em;
			background: #21242b;
			border-radius: 5px;
			padding: 0.5em 0.8em;
			border: 1px solid #30333a;
			color: var(--text-secondary);
		}

		.module-card details summary {
			cursor: pointer;
			font-weight: 500;
			color: var(--accent);
			font-size: 1em;
			margin-bottom: 0.2em;
			outline: none;
		}

		.module-card ul {
			margin-left: 1.2em;
			color: var(--text-secondary);
		}

		@media (max-width: 600px) {
			body {
				padding: 0.5em 0 1em 0;
			}

			#nav,
			#menu {
				max-width: 98vw;
			}

			.module-card {
				padding: 0.7em 0.8em;
			}

			.module-card h2 {
				font-size: 1.05em;
			}
		}
	</style>
</head>

<body>
	<h1>configng-v2 Modules Menu</h1>
	<div id="nav"></div>
	<div id="menu"></div>
	<script>
		// ----- BEGIN: Easy-to-edit JSON (paste here to update) -----
	const data = {
  "system": {
    "login": {
      "adjust_motd": {
        "feature": "adjust_motd",
        "description": "Adjust welcome screen (motd)",
        "options": "show,set <item> <ON|OFF>,reload,help",
        "contributor": "@igorpecovnik",
        "arch": "arm64,armhf,x86-64",
        "require_os": "Debian,Ubuntu,Armbian",
        "require_kernel": "5.15+",
        "port": "false",
        "helpers": "_about_adjust_motd,_set_adjust_motd,_reload_adjust_motd"
      }
    }
  },
  "network": {
    "interface": {
      "net_render": {
        "feature": "net_render",
        "description": "Set or check the current Netplan 'renderer' (NetworkManager or networkd) for all interfaces.",
        "extend_desc": "Provides a simple interface to toggle or display the Netplan network renderer. Does not manage service installation or enablement.",
        "options": "NetworkManager,networkd,status,help",
        "contributor": "@tearran",
        "arch": "arm64,armhf,x86-64",
        "require_os": "Armbian,Debian,Ubuntu",
        "require_kernel": "5.15+",
        "port": "false",
        "helpers": "_about_net_render"
      }
    }
  },
  "software": {
    "user": {
      "cockpit": {
        "feature": "cockpit",
        "description": "Web-based administrative interface for managing Linux servers.",
        "extend_desc": "Cockpit provides an easy-to-use, web-based graphical interface for system administration tasks such as managing users, services, storage, networking, and system updates. This module integrates Cockpit with Armbian Config V3, allowing users to install, remove, enable, disable, start, stop, and check the status of Cockpit directly from the config-ng menu or CLI.",
        "options": "install,remove,start,stop,status,enable,disable,help",
        "contributor": "@tearran",
        "arch": "arm64,armhf,x86-64",
        "require_os": "Armbian,Debian,Ubuntu",
        "require_kernel": "5.15+",
        "port": "false",
        "helpers": "_about_cockpit"
      }
    }
  },
  "core": {
    "initialize": {
      "menu_from_options": {
        "feature": "menu_from_options",
        "description": "Parse a list_options message and present commands as an interactive menu.",
        "extend_desc": "Displays available commands from a list_options message using whiptail, dialog, or terminal input. Returns the selected command for further processing.",
        "documents": "true",
        "options": "command",
        "contributor": "@Tearran",
        "maintainer": "true",
        "arch": "arm64,armhf,x86-64",
        "require_os": "Debian,Ubuntu,Armbian",
        "require_kernel": "5.15+",
        "port": "false",
        "helpers": "_about_menu_from_options"
      },
      "list_options": {
        "feature": "list_options",
        "description": "Show available option groups and their usage for configng-v2 modules.",
        "extend_desc": "Lists features/options for core, system, network, and software modules. Outputs usage and example commands for each group.",
        "documents": "true",
        "options": "main,core,system,software,network,help",
        "contributor": "@tearran",
        "maintainer": "false",
        "arch": "arm64,armhf,x86-64",
        "require_os": "Debian,Ubuntu,Armbian",
        "require_kernel": "5.15+",
        "port": "false",
        "helpers": "_about_list_options,_merge_list_options,_parse_list_options"
      },
      "trace": {
        "feature": "trace",
        "description": "Lightweight timing and trace message utility for Configng V2 modules.",
        "extend_desc": "Provides timing, tracing, and progress utilities for Bash modules. Supports trace timing and elapsed time reporting for module development and diagnostics.",
        "options": "help,<string>,reset,total",
        "contributor": "@tearran",
        "arch": "arm64,armhf,x86-64",
        "require_os": "Debian,Ubuntu,Armbian",
        "require_kernel": "5.15+",
        "port": "false",
        "helpers": "_about_trace",
        "help": "Show help for this module",
        "reset": "Start a new timer",
        "total": "Prints total time",
        "<string>": "A echo wrapper to note trace placement"
      }
    },
    "interface": {
      "package": {
        "feature": "package",
        "description": "Helpers for bulk packages operations (install, remove, upgrade, etc.)",
        "extend_desc": "Provides helpers for managing multiple package at once via apt and dpkg. Intended for use by configng-v2 core logic and scripts.",
        "options": "update,upgrade,full-upgrade,install,remove,configure,installed",
        "contributor": "@dimitry-ishenko",
        "arch": "arm64,armhf,x86-64",
        "require_os": "Debian,Ubuntu,Armbian",
        "require_kernel": "5.15+",
        "port": "false",
        "helpers": "pkg_update,pkg_upgrade,pkg_full_upgrade,pkg_install,pkg_remove,pkg_configure,pkg_installed,_about_package"
      },
      "service": {
        "feature": "service",
        "description": "Systemd service management helpers (start  stop  enable  etc.)",
        "extend_desc": "Helpers for managing services programmatically via systemd. Intended for use by configng-v2 core logic and scripts.",
        "options": "active,daemon-reload,disable,enable,enabled,mask,reload,restart,start,status,stop,unmask",
        "contributor": "@dimitry-ishenko",
        "arch": "arm64,armhf,x86-64",
        "require_os": "Armbian,Debian,Ubuntu",
        "require_kernel": "5.15+",
        "port": "false",
        "helpers": "_about_service,srv_active,srv_start,srv_stop,srv_restart,srv_reload,srv_status,srv_enable,srv_disable,srv_enabled,srv_mask,srv_unmask,srv_daemon_reload"
      },
      "input_box": {
        "feature": "input_box",
        "description": "Prompt the user for input using whiptail, dialog, or shell fallback; reads prompt from argument or stdin and prints result to stdout.",
        "extend_desc": "This helper displays an input box for user input in TUI environments using dialog, whiptail, or a shell fallback. The prompt message can be supplied as a positional argument or piped via stdin. If no prompt is provided, usage help is shown. Supports ARM and x86-64 architectures on Debian, Ubuntu, and Armbian systems (kernel 5.15+). Useful for scripts needing interactive input with fallback and help options.",
        "options": "<prompt>",
        "contributor": "@tearran",
        "arch": "arm64,armhf,x86-64",
        "require_os": "Debian,Ubuntu,Armbian",
        "require_kernel": "5.15+",
        "port": "false",
        "helpers": "_about_input_box"
      },
      "ok_box": {
        "feature": "ok_box",
        "description": "Displays a message to the user using the configured dialog tool.",
        "extend_desc": "Reads input text (either from standard input or as an argument) and presents it to the user with the selected dialog frontend. Supports dialog, whiptail, or plain read/echo. Handles input flexibly and routes output appropriately depending on the tool.",
        "options": "<string>",
        "contributor": "@tearran",
        "arch": "arm64,armhf,x86-64",
        "require_os": "Debian,Ubuntu,Armbian",
        "require_kernel": "5.15+",
        "port": "false",
        "helpers": "_about_ok_box"
      },
      "submenu": {
        "feature": "submenu",
        "description": "Displays an interactive submenu for module functions based on their help output.",
        "extend_desc": "Parses the help message of a given module and presents an interactive menu via dialog, whiptail, or CLI prompt.",
        "options": "<module_name help>",
        "contributor": "@tearran",
        "arch": "arm64,armhf,x86-64",
        "require_os": "Debian,Ubuntu,Armbian",
        "require_kernel": "5.15+",
        "port": "false",
        "helpers": "_about_submenu"
      },
      "yes_no_box": {
        "feature": "yes_no_box",
        "description": "Portable Bash yes/no prompt function supporting whiptail, dialog, or simple shell read fallback.",
        "extend_desc": "The yes_no_box helper provides a consistent, script-friendly way to prompt users for Yes/No confirmations across different environ",
        "options": "<message>",
        "contributor": "@tearran",
        "arch": "arm64,armhf,x86-64",
        "require_os": "Armbian,Debian,Ubuntu",
        "require_kernel": "5.15+",
        "port": "false",
        "helpers": "_about_yes_no_box"
      },
      "info_box": {
        "feature": "info_box",
        "description": "Display a rolling info box with dialog/whiptail; reads and shows lines from stdin or a single message.",
        "extend_desc": "This helper provides a live-updating infobox for progress or log output in TUI (dialog/whiptail). When piped, shows the last N lines as they arrive. If called with an argument, displays it as a static message. Useful for monitoring, user feedback, or background task reporting in config-v3.",
        "options": "[message] | (via stdin/pipe)",
        "contributor": "@tearran",
        "arch": "arm64,armhf,x86-64",
        "require_os": "Debian,Ubuntu,Armbian",
        "require_kernel": "5.15+",
        "port": "false",
        "helpers": "_about_info_box"
      }
    }
  }
};
		// ----- END: Easy-to-edit JSON -----

		const categories = Object.keys(data);
		let state = { cat: null, group: null }; // Navigation state

		function setNav() {
			const nav = document.getElementById('nav');
			let html = '';
			// Parent/category navigation
			if (state.cat) {
				html += `<button id="parent-btn" onclick="navTo()">Back to categories</button>`;
			}
			// Group navigation
			if (state.cat && state.group) {
				html += `<button id="group-btn" onclick="navTo(state.cat)">Back to group</button>`;
			}
			// Home
			html += `<button onclick="navTo()">Home</button>`;
			nav.innerHTML = html;
		}

		function navTo(cat = null, group = null) {
			state.cat = cat;
			state.group = group;
			setNav();
			renderMenu();
		}

		function renderMenu() {
			const menu = document.getElementById('menu');
			let html = '';
			if (!state.cat) {
				// Top level: categories
				html += '<ul>';
				for (const cat of categories) {
					html += `<li><button onclick="navTo('${cat}')">${cat}</button></li>`;
				}
				html += '</ul>';
			} else if (state.cat && !state.group) {
				// Show groups in selected category
				const groups = Object.keys(data[state.cat]);
				html += `<h2>Category: ${state.cat}</h2><ul>`;
				for (const group of groups) {
					html += `<li><button onclick="navTo('${state.cat}','${group}')">${group}</button></li>`;
				}
				html += '</ul>';
			} else if (state.cat && state.group) {
				// Show modules in selected group
				const modules = data[state.cat][state.group];
				html += `<h2>${state.cat} &gt; ${state.group}</h2>`;
				for (const modKey in modules) {
					const mod = modules[modKey];
					html += `<div class="module-card">` +
						`<h2>${mod.feature}</h2>` +
						(mod.description ? `<div class="desc">${mod.description}</div>` : '') +
						(mod.extend_desc ? `<div class="desc"><small>${mod.extend_desc}</small></div>` : '') +
						renderOptions(mod) +
						`<details><summary>All details</summary>${renderAll(mod)}</details>` +
						`</div>`;
				}
			}
			menu.innerHTML = html;
		}
		function renderOptions(mod) {
			if (!mod.options) return '';
			const opts = mod.options.split(',').map(s => s.trim());
			return `<div><b>Options:</b> <ul class="options-list">` +
				opts.map(o => `<li>${o}</li>`).join('') +
				'</ul></div>';
		}
		function renderAll(mod) {
			let html = '<ul>';
			for (const k in mod) {
				html += `<li><b>${k}:</b> ${String(mod[k])}</li>`;
			}
			html += '</ul>';
			return html;
		}

		// Initial render
		window.navTo = navTo;
		navTo();
	</script>
</body>

</html>
